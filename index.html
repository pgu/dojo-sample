<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>ngDojo App</title>
  <link rel="icon" href="https://dojotoolkit.org/images/favicons/favicon.ico">
</head>

<body>

<h1 id="greeting">Hello...</h1>

<p>
  <strong>Local Storage</strong> (enough when navigating from one view to another. RS already uses it.)<br/>
  (Use the action <b>Refresh from local storage</b> in the frame)<br/>

  <button id="storeJSBtn">Store in storage</button>
  <button id="retrieveJSBtn">Retrieve from storage</button>
  <br/>

<ul id="_domains"></ul>
</p>

<p>
  <strong>PostMessage</strong> (needed if necessary interactions with current outside/inside elements)<br/>

  <button id="sendBtn">Send</button>
  <br/>
<ul id="domains"></ul>

</p>

<p>Iframe containing an AngularJS App</p>
<iframe id="ngframe" src="/angular-dist/index.html" width="100%" height="300px"></iframe>


<script>
  var basePath = location.pathname.replace(/\/[^/]*$/, '');

  var dojoConfig = {
    async: true,
    packages: [ { name: 'dojo-dist', location: basePath + '/dojo-dist' } ]
  };
</script>

<script src="https://ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"></script>

<script>
  require([
    'dojo-dist/myDojoApp'
  ], function (myModule) {
    myModule.setText('greeting', 'Hello, I\'m a Dojo application');

    var domains = [
      { text: 'Dojo', done: false },
      { text: 'AngularJS', done: false }
    ];

    myModule.updateDomains(domains);
  });
</script>

</body>

</html>