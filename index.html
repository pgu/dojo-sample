<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>ngDojo App</title>
  <link rel="icon" href="https://dojotoolkit.org/images/favicons/favicon.ico">
  <link rel="stylesheet" href="dojo-dist/styles/myDojoStyle.css">
</head>

<body>

<h1 id="greeting">Hello...</h1>

<strong>Items</strong><br/>
<ul id="items"></ul>
<button id="flipBtn">Flip states</button>

<p>
  <strong>1 - Local Storage</strong>
  <small>(enough when navigating from one view to another. RS already uses
    it.)
    (Use the action <b>Refresh from local storage</b> in the frame below)
  </small>
  <br/>

  <button id="storeBtn">Store in storage</button>
  <button id="retrieveBtn">Retrieve from storage</button>

</p>

<p>
  <strong>2 - PostMessage</strong>
  <small>(needed if necessary interactions with current outside/inside elements)</small>
  <br/>

  <button id="sendBtn">Send to iframe</button>

</p>


<p><em>Iframe containing an AngularJS App</em></p>
<iframe id="ngframe" src="/angular-dist/index.html" width="100%" height="300px"></iframe>


<script>
  var basePath = location.pathname.replace(/\/[^/]*$/, '');

  var dojoConfig = {
    async: true,
    packages: [ { name: 'dojo-dist', location: basePath + '/dojo-dist' } ]
  };
</script>

<script src="https://ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"></script>

<script>
  require([
    'dojo-dist/myDojoApp'
  ], function (myModule) {
    myModule.setText('greeting', 'Hello, I\'m a Dojo application');

    var items = [
      { text: 'Item A', done: true },
      { text: 'Item B', done: false }
    ];

    myModule.updateItems(items);
  });
</script>

</body>

</html>